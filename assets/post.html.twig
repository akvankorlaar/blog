{% extends 'layout.html.twig' %}

{% block title %}{{ blog.title }} by {{ blog.author.name }}{% endblock %}

{% block sidebar %}
    <div class="uk-panel uk-panel-box uk-text-center">
        <img class="uk-border-circle" src="{{ blog.author.gravatarUrl(120) }}" alt="">
        <h3>{{ blog.author.name }}</h3>
        <div class="uk-text-left">
            {{ blog.author.bio | markdown }}
        </div>
    </div>
    <div class="uk-panel uk-panel-box">
        <h3>More posts by {{ blog.author.shortName }}</h3>
        <ul class="uk-list uk-list-line">
            {% for post in related %}
                <li><a href="{{ post.url }}">{{ post.title }}</a></li>
            {% endfor %}
        </ul>
    </div>
{% endblock %}

{% block content %}
    <article class="uk-article">
        <h1 class="uk-article-title">{{ blog.title }}</h1>
        <p class="uk-article-meta">Written by <img class="uk-border-circle" src="{{ blog.author.gravatarUrl(20) }}"> {{ blog.author.name }} on {{ blog.date | date('F jS Y') }}.</p>

        {{ blog.content | markdown }}

        <div id="disqus_thread"></div>
        <script>
            var disqus_config = function () {
                this.page.url        = 'http://yannickl88.nl{{ blog.url }}';
                this.page.identifier = '{{ blog.url }}';
            };

            (function() {  // DON'T EDIT BELOW THIS LINE
                var d = document, s = d.createElement('script');

                s.src = '//devyannickl88.disqus.com/embed.js';

                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    </article>
{% endblock %}
